(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{86237:function(e,t,n){"use strict";n.d(t,{F:function(){return l},s:function(){return o}});var r=n(57218),i=n(16441),a=n(84917);function o(e){let t=(0,a.Y0)(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,i.Dv)((0,i.zo)([t,r.R]).slice(0,32))}function l(e){let t=(0,i.lE)(e);if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let n=31;for(;0===t[n-1];)n--;return(0,a.ZN)(t.slice(0,n))}},23311:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(85893);n(67294);var i=n(31248);function a(e){return(0,r.jsxs)(i.J,{...e,children:[(0,r.jsx)("path",{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}),(0,r.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]})}},65670:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(85893);n(67294);var i=n(31248);function a(e){return(0,r.jsx)(i.J,{...e,children:(0,r.jsx)("path",{d:"M854.6 289.1a362.49 362.49 0 0 0-79.9-115.7 370.83 370.83 0 0 0-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 0 0 169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0 0 22.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"})})}},61459:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(85893);n(67294);var i=n(31248);function a(e){return(0,r.jsxs)(i.J,{...e,children:[(0,r.jsx)("path",{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}),(0,r.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]})}},17708:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),i=n(86010),a=n(67294);function o(e){let t=e&&e.ownerDocument||document;return t.defaultView||window}let l=a.useLayoutEffect;var s=n(82082);function c(e,t){return parseInt(e[t],10)||0}var u=function(e){let{value:t="",onChange:n,wrapperClassName:u,className:d,isValid:f=!0,validator:h,validatorWaitFor:m=750,icon:p,loading:b,tabIndex:g,disabled:v,maxRows:y,minRows:N=1,placeholder:w,...x}=e,[T,O]=a.useState(!1),A=h&&(0,s.N)(h,m),{current:I}=a.useRef(null!=t),j=a.useRef(null),E=a.useRef(null),S=a.useRef(0),[C,L]=a.useState({}),R=a.useCallback(()=>{let e=j.current,t=o(e);if(!e)return;let n=t.getComputedStyle(e);if("0px"===n.width||!(null==E?void 0:E.current)||!e)return;let r=E.current;r.style.width=n.width,r.value=e.value||w||"x","\n"===r.value.slice(-1)&&(r.value+=" ");let i=n["box-sizing"],a=c(n,"padding-bottom")+c(n,"padding-top")-24,l=c(n,"border-bottom-width")+c(n,"border-top-width"),s=r.scrollHeight;r.value="x";let u=r.scrollHeight,d=s;N&&(d=Math.max(Number(N)*u,d)),y&&(d=Math.min(Number(y)*u,d)),d=Math.max(d,u);let f=d+("border-box"===i?a+l:0),h=1>=Math.abs(d-s)?1:0;L(e=>S.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==h)?(S.current+=1,{overflow:h,outerHeightStyle:f}):e)},[y,N,w]);async function M(e){let{currentTarget:{value:t}}=e;S.current=0,I||R(),"function"==typeof n&&(n(t),"function"==typeof A&&await A(t))}return a.useEffect(()=>{let e;let t=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout(()=>{e.apply(this,i)},n)}return r.clear=()=>{clearTimeout(t)},r}(()=>{S.current=0,R()}),n=o(j.current||void 0);return n.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(t),(null==j?void 0:j.current)&&e.observe(j.current)),()=>{t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}},[R]),l(()=>{R()}),(0,a.useEffect)(()=>{S.current=0},[t]),(0,r.jsxs)("div",{onFocus:function(){O(!0)},onBlur:function(){O(!1)},className:"relative h-full w-full",children:[(0,r.jsx)("textarea",{value:t,onChange:M,tabIndex:g,style:{height:C.outerHeightStyle,overflow:C.overflow?"hidden":void 0,padding:12},className:(0,i.Z)("m-0 w-full rounded-lg border border-gray-200 p-3 shadow-none outline-none transition-all duration-300",{"ring-1":T,"hover:border-blue-300 hover:shadow-blue-300":!T&&f,"border-blue-300 shadow-blue-300":T&&f,"border-red-300 hover:shadow-red-300":!T&&!f,"border-red-300 ring-red-300 shadow-red-300":T&&!f,"bg-gray-100 hover:!border-gray-300 hover:!shadow-none opacity-70":v},u),disabled:v,ref:j,autoComplete:"off",role:"textbox",rows:N,...x}),(0,r.jsx)("textarea",{readOnly:!0,className:"invisible absolute inset-0 h-0 overflow-hidden bg-gray-100",ref:E,tabIndex:-1,style:{padding:12,transform:"translateZ(0)"}})]})}},9599:function(e,t,n){"use strict";n.d(t,{B:function(){return p}});var r=n(85893),i=n(23125),a=n(14710),o=n(87592),l=n(1449),s=n(86010),c=n(67294),u=n(85198),d=n(73772);let f={longitude:4.4775362,latitude:51.0258761},h={"line-width":1,"line-color":"rgba(0, 255, 0, 0.75)","line-dasharray":[3,3]},m={"fill-color":"rgba(0, 255, 0, 0.05)"};function p(e){let{onChange:t,positions:n=[],height:p=375,mode:b="read-only",theme:g="dark",rounded:v=!0,zoom:y=12}=e,[N,w]=(0,c.useState)(),[x,T]=(0,c.useState)();return(0,c.useEffect)(()=>{"editable"===b&&(T(new d.DrawPolygonMode),w(f))},[]),(0,c.useEffect)(()=>{if("read-only"===b&&(0,a.i)(n)){let e=(0,l.uf)(n||[]),t=(0,o.Z)(e);(0,a.i)(t)&&w({latitude:(t[1]+t[3])/2||f.latitude,longitude:(t[0]+t[2])/2||f.longitude,maxLongitude:t[2],minLongitude:t[0],maxLatitude:t[3],minLatitude:t[1]})}},[n,b]),(0,r.jsx)("div",{style:{height:p},className:"w-full",children:N?(0,r.jsxs)(u.default,{zoom:y,height:"100%",width:"100%",className:(0,s.Z)(v&&"rounded"),...N,mapboxApiAccessToken:"pk.eyJ1IjoidWJlcmRhdGEiLCJhIjoiY2pwY3owbGFxMDVwNTNxcXdwMms2OWtzbiJ9.1PPVl0VLUQgqrosrI2nUhg",mapStyle:"mapbox://styles/mapbox/".concat(g,"-v11"),onViewportChange:w,children:["editable"===b&&(0,r.jsx)(d.Editor,{clickRadius:13,mode:x,selectable:"editable"===b,features:n||[],onUpdate:e=>{let{data:n}=e;null==t||t(n)}}),"read-only"===b&&(null==n?void 0:n.map((e,t)=>(0,r.jsxs)(u.Source,{id:"source-".concat(t),type:"geojson",data:e,children:[(0,r.jsx)(u.Layer,{paint:h,id:"line-".concat(t),type:"line"}),(0,r.jsx)(u.Layer,{paint:m,id:"polygon-".concat(t),type:"fill"})]},t)))]}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,r.jsx)(i._,{className:"text-gray-500"})})})}},35527:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var r=n(85893),i=n(23311),a=n(23125),o=n(61459);function l(e){let{title:t,writeStatus:n}=e;return(0,r.jsxs)("div",{className:"flex h-full flex-col px-4",children:[(0,r.jsx)("div",{className:"mb-3 border-b border-gray-100 pb-4 text-sm font-semibold",children:t}),(0,r.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,r.jsx)("div",{className:"text-sm",children:"Writing to IPFS"}),(0,r.jsx)("div",{className:"text-gray-500",children:"stale"===n?(0,r.jsx)(o.w,{}):"writeToIpfs"===n?(0,r.jsx)(a._,{}):("writeToHedera"===n||"done"===n)&&(0,r.jsx)(i.l,{className:"text-green-500"})})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{className:"text-sm",children:"Writing to Hedera"}),(0,r.jsx)("div",{className:"text-gray-500",children:"stale"===n||"writeToIpfs"===n?(0,r.jsx)(o.w,{}):"writeToHedera"===n?(0,r.jsx)(a._,{}):"done"===n&&(0,r.jsx)(i.l,{className:"text-green-500"})})]})]})}},82082:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(67294);let i=(e,t)=>{let n=(0,r.useRef)(),i=(0,r.useRef)(e);return(0,r.useEffect)(()=>{i.current=e},[t]),(0,r.useCallback)(function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];n.current&&(clearTimeout(n.current),n.current=null),n.current=setTimeout(()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.call(i,...r)},t)},[])}},98518:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(87866);let i=r._q.fromString("3030020100300706052b8104000a042204209e09fd6bf996a6a4ca7ff0e67dffb16fbf8828a21b89dfa735866999fdc4b12f"),a=r.hX.fromString("0.0.14271926");function o(){return{accountId:a,privateKey:i,client:function(){let e=r.KU.forTestnet();return e.setOperator(a,i),e}()}}},81074:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var r=n(9196),i=n(96810);function a(){function e(){return new i.xk({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDAyYWUxYTE5NzMxRDI1OWU4ZDFkOTRDMzFhNTY2NTljMzE3QzFFZTAiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2ODY2ODgyMjk5OTQsIm5hbWUiOiJoYXNoZ3JhcGgifQ.SFAL05NK16Vy75XmaclVHHy-tEPweI7AS4_AaX3ONLQ"})}async function t(t,n,i,a){let l=await e(),s=[o(JSON.stringify({name:t,creator:n,description:i,image:"https://bafybeibv3qve4co27gkgapqwftkmzcxgscbp4il7rwiyj2al4vl36hzfcu.ipfs.w3s.link/nft-placeholder.png",checksum:"ff32974d2a8cfeb8deb2437556b53296021bfe02d466f449d52b583a6e8fbcef",type:"image/png",format:"HIP412@2.0.0",properties:{location:a}}),"".concat(r.Y1.METADATA,".json"))];return l.put(s)}async function n(t){let n=await e(),{images:i,forest:a,...l}=t,s=[o(JSON.stringify(l),"".concat(r.Y1.PROPOSAL,".json")),o(JSON.stringify({title:l.title}),"".concat(r.Y1.METADATA,".json"))];return i&&s.push(...i.map(e=>new File([e],"images/".concat(e.name)))),n.put(s)}async function a(t){let n=await e();return n.put([o(JSON.stringify(t),"".concat(r.Y1.OBJECTION,".json"))])}function o(e,t){return new File([new Blob([e])],t,{type:"application/json",lastModified:new Date().getTime()})}async function l(t,n){let r=await e(),i=await (null==r?void 0:r.get(t)),a=await (null==i?void 0:i.files()),o="".concat(n,".json"),l=null==a?void 0:a.find(e=>e.name===o);if(!l)return;let c=new TextDecoder,u="";return await s(l,e=>u+=c.decode(e)),{...JSON.parse(u),cid:t}}async function s(e,t){let n=e.stream().getReader();for(;;){let{done:e,value:r}=await n.read();if(e)break;t(r)}}let c=(e,t)=>"https://dweb.link/ipfs/".concat(e,"/").concat(t);return{getJsonFile:l,uploadForest:t,getImageUrls:async function(t){let n=await e(),r=await n.get(t),i=await (null==r?void 0:r.files()),a=null==i?void 0:i.filter(e=>e.name.startsWith("images/"));return(null==a?void 0:a.map(e=>c(t,e.name)))||[]},uploadProposal:n,uploadObjection:a}}},9196:function(e,t,n){"use strict";var r,i,a,o,l,s,c;n.d(t,{WD:function(){return i},Y1:function(){return a},dz:function(){return r}}),(l=r||(r={}))[l.FOR=0]="FOR",l[l.AGAINST=1]="AGAINST",l[l.ABSTAIN=2]="ABSTAIN",(s=i||(i={})).MOBILITY="mobility",s.SPATIAL_PLANNING="spatial-planning",s.CONFLICT_OF_INTEREST="conflict-of-interest",s.DE_PAVING="de-paving",s.PROCEDURE="procedure",s.CONSTRUCTION_PHASE="construction-phase",s.IMPACT_ON_CLIMATE="impact-on-climate",s.SAFETY="safety",s.VISUAL_IMPACT="visual-impact",s.PRIVACY="privacy",s.NUISANCE="nuisance",s.MATERIAL_USAGE="material-usage",s.FOREST_COMPENSATION="forest-compensation",s.HEALTH="health",s.ENERGY_CONSUMPTION="energy-consumption",s.PLANNING_CONTEXT="planning-context",s.ENVIRONMENTAL_IMPACT_REPORT="environmental-impact-report",s.WATER="water",s.AIR_QUALITY="air-quality",s.ECOLOGY="ecology",s.NOISE_POLLUTION="noise-pollution",s.LIGHT_POLLUTION="light-pollution",s.ODOR_NUISANCE="odor-nuisance",(c=a||(a={})).OBJECTION="objection",c.METADATA="metadata",c.PROPOSAL="proposal",(o||(o={})).PROPOSAL="proposal"},71231:function(){},89214:function(){},85568:function(){}}]);